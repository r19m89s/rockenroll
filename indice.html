<!DOCTYPE html>
<html lang="en">
<head>
    <link href="sliderStyle.css" media="screen" type="text/css" rel="stylesheet"></link>
    <link href="quoteStyle.css" type="text/css" rel="stylesheet"></link>
	<link href="src/jquery-ui.css" type="text/css" rel="stylesheet" />
	
    <script src="src/jquery-2.0.2.min.js" type="text/javascript" ></script>
	<script src="src/jquery-ui.js" type="text/javascript"></script>
	<script src="slidingForm.js" type="text/javascript" ></script>
    <script src="src/scrollTo.js" type="text/javascript" ></script>
	
    <script src="src/datejs_core.js" type="text/javascript" ></script>
    <script src="quote.js" type="text/javascript" ></script>
	<script src="quoteFunctions.js" type="text/javascript" ></script>
    <script src="writeDatesFunctions.js" type="text/javascript" ></script>
    <script type="text/javascript">
        //<![CDATA[
        // JS goes here
        var br = "<br />";
		var skipDatesArray = new Array();
		var skipDatesArray = convertArray(skipDates);
		var today = getToday(new Date());
		$(function() {
			$( "#simpleQuote, #simpleLength" ).buttonset();
            $('.circle').removeClass('ui-corner-left')
		});
        //]]>
    </script>
</head>
<body>
	<div id="linkMenu">
		<ul class="reference">
			<li><a href="#simpleQuote" class="scroll">simple quote</a></li>
			<li><a href="#programQuote" class="scroll">program quote</a></li>
            <li><a target="_blank" href="https://mail.google.com/mail/u/0/?tab=wm#inbox">go to Gmail</a></li>
			<li><a target="_blank" href="https://na12.salesforce.com/home/home.jsp">go to Salesforce</a></li>
			<li><a target="_blank" href="https://online.factsmgt.com/">adjust the FACTS</a></li>
			<li><a target="_blank" href="https://activenet18.active.com/musicallyminded/servlet/AdminLogin.sdi?redir=1">go to Hell and back</a></li>
			<li>
				<span class="tooltip">
					<a href="#">reference rates</a>
					<div style="display: none;">
						<div id="tip_refRates">			
							<table id="allThemRates">
								<tbody>
									<script type="text/javascript">
									//&lt;![CDATA[
									// or JS goes here
										printRatesTable();
									//]]&gt; 
									</script> 
								</tbody>
							</table>
						</div>
					</div>
				</span>
			</li>
			<li><a target="_blank" href="trees/index.html">make like a tree</a></li>
		</ul>
		<h4><a href="https://online.factsmgt.com/Tmg/public/AgreementSignup.aspx?t=3KGCM">FACTS Sign-Up</a></h4>
	</div>
	<div id="simpleQuote">	
		<h1>Simple Quotes</h1>
		<form name="simpleQuoteForm" id="simpleQuote">
            <ol>
    			<li>
                    <ul id="simpleQuote-programType">
            			<li><input type="radio" id="rate0" name="simpleType" value='0'/><label for="rate0" class="circle" title="Private Intro, Core">P C</label></li>
						<li><input type="radio" id="rate1" name="simpleType" value='1'/><label for="rate1" class="circle" title="Private Intro, Associate">P A</label></li>
						<li><input type="radio" id="rate2" name="simpleType" value='2'/><label for="rate2" class="circle" title="Drop In, Core">D C</label></li>
            			<li><input type="radio" id="rate3" name="simpleType" value='3'/><label for="rate3" class="circle" title="Drop In, Associate">D A</label></li>
            			<li><input type="radio" id="rate4" name="simpleType" value='4'/><label for="rate4" class="circle" title="Quarterly, Core">Q C</label></li>
            			<li><input type="radio" id="rate5" name="simpleType" value='5'><label for="rate5" class="circle" title="Quarterly, Associate">Q A</label></li>
                    </ul>
                </li>
                <li>
                    <ul>
                        <li><input type="radio" id="20" name="simpleLength" value='20'/><label for="20" class="circle">20 min</label></li>
                        <li><input type="radio" id="30" name="simpleLength" value='30'/><label for="30" class="circle">30 min</label></li>
                        <li><input type="radio" id="45" name="simpleLength" value='45'/><label for="45" class="circle">45 min</label></li>
                        <li><input type="radio" id="60" name="simpleLength" value='60'/><label for="60" class="circle">60 min</label></li>
                    </ul>
                </li>
                <li>
                    <label for="simpleQuoteQty"># of lessons</label>
                    <input type="text" id="simpleQuoteQty" name="simpleQuoteQty" />
                </li>
                <li>
                    <a href="javascript: void(0)" onclick="document.simpleQuoteForm.simpleQuoteOutput.value = simpleQuote();">Get to tha CHOPPA</a>
                </li>	
                <li>
                    <textarea name="simpleQuoteOutput" onclick="this.focus(); this.select()" for="simpleType simpleLength simpleQuoteQty"></textarea>
                </li>
            </ol>
		</form>
	</div>
	<hr />
	<form name="viewAdjustParams">
				<fieldset class="vaParams">
				<legend><h5>params at work</h5></legend>
					<h4><label for="weekdayChoice"><em>weekday</em></label></h4>
					<input type="text" size="18" readonly="readonly" placeholder="weekday of choice" id="weekdayChoice" name="weekdayChoice">

					<h4><label for="field_lessonQty"><em># of </em></label></h4>
					<input type="text" placeholder="lesson qty" readonly="readonly" size="10" id="field_lessonQty" name="field_lessonQty">

					<h4><label for="field_lessonRate"><em>Lesson Rate</em></label></h4>
					<input type="text" placeholder="cost / lesson" readonly="readonly" size="15" id="field_lessonRate" name="field_lessonRate">
				</fieldset>	
				<fieldset class="vaParams">
					<legend><h5>subTotals</h5></legend>
					<h4><label for="field_MMARegFees">MMA Reg. Fee</label></h4>
					<input type="number" placeholder="30.00" id="field_MMARegFees" readonly="readonly" name="field_MMARegFees" size="5" max="30.00" min="0.00">	

					<h4><label for="field_lessonQty">Lessons</label></h4>
					<input type="text" placeholder="rate * qty" readonly="readonly" size="10" id="field_lessonSubTotal" name="field_lessonSubTotal">

					<h4><label for="field_programEventFees">Program Event Fees</label></h4>
					<input type="number" readonly="readonly" id="field_programEventFees" name="field_programEventFees" size="6" step="9.5" max="456.00" min="0.00">
					<br>
						<label title="magically zero out the program fees!" for="null_programEventFees" id="null_programEventFees">0%</label>
						<label title="enact all $456 of the program fees" for="full_programEventFees" id="full_programEventFees">100%</label>
					<br>
						<input type="checkbox" title="magically zero out the program fees!" onclick="printSub_ProgramEvents(); printQuote(); printPP();" id="null_programEventFees" name="null_programEventFees">
						<input type="checkbox" title="enact all $456 of the program fees" onclick="printSub_ProgramEvents(); printQuote(); printPP();" id="full_programEventFees" name="full_programEventFees">
				</fieldset>
			</form>
    <div id="programQuote">
		<h1>Program Quotes</h1>
		<div id="input">
			<div style="width: 1800px;" id="steps">
				<form id="formElem" name="params" action="" method="post">
					<fieldset class="step">
						<legend>Components</legend>
						<p>
							<label for="whichRate" id="whichRate">Lesson Type</label>
							<select name="whichRate" id="whichRate" class="whichRate" size="1" tabindex="1" autofocus="autofocus">
								<option value="">-</option>
								<option value="0">Program, Core</option>
								<option value="1">Program, Associate</option>
							</select>
							<label for="howLong">Lesson Length</label>
							<select name="howLong" id="howLong" class="howLong" size="1" tabindex="2">
								<option value="">-</option>
								<option value="20">20 minutes</option>
								<option value="30">30 minutes</option>
								<option value="45">45 minutes</option>
								<option value="60">60 minutes</option>
							</select>
						</p>
						<p class="compressedP">
							<label for="weekday">Weekday</label>
								<select name="weekday" id="weekday" size="1" onchange="displayWeekDay_Text()" tabindex="3">
									<option value="x">-</option>
									<option value="0">Sun</option>
									<option value="1">Mon</option>
									<option value="2">Tue</option>
									<option value="3">Wed</option>
									<option value="4">Thu</option>
									<option value="5">Fri</option>
									<option value="6">Sat</option>
								</select>
							<label for="summerToggle">Summer?</label>
								<select name="summerToggle" id="summerToggle" size="1" onchange="summer()">
									<option value="yes">Yes</option>
									<option value="no">No</option>
								</select>
						</p>
						<p class="compressedP">
							<label for="dateStart">Start Date</label>
								<input name="dateStart" id="dateStart" title="use this format: mm/dd/yyyy" size="12" tabindex="4" type="text">								
							<label for="dateEnd">Stop Date</label>
								<input name="dateEnd" id="dateEnd" value="8/24/2014" readonly="true" title="use this format: mm/dd/yyyy" size="12" tabindex="5" type="text">
					</p>
					</fieldset>
					
					<fieldset class="step">
						<legend>Credits</legend>
						<p class="compressedP">
							<label for="field_creditDescr">Description</label>
							<select name="field_creditDescr" id="field_creditDescr" class="field_creditDescr" onchange="calcCredits()" size="1" tabindex="6">
								<option value="x"> - </option>
								<option value="reg">MMA reg. fee</option>
								<option value="tuition">Summer lessons</option>
								<option value="tuition">Installment</option>
								<option value="tuition">Barter</option>
								<option value="tuition">We F'ed Up</option>
							</select>
							<label for="field_creditAmt">Amt.</label>
							<input name="field_creditAmt" id="field_creditAmt" min="0.00" max="10000.00" size="8" tabindex="7" type="number">
						</p>
						<p>
							This does not work yet. Donate to get it working. 
							<br>
							Rafael accepts cash, guitar lessons, health insurance or food.
							<br>
							Thx!
						</p>
					</fieldset>
					
					<fieldset class="step">
						<legend>Configure Payment Plan</legend>
						<p>
							<label for="field_NumOfPayments"># of payments</label>
							<input name="field_NumOfPayments" id="field_NumOfPayments" optional="”optional”" min="1" max="12.0" tabindex="11" type="text" value="12">
							<label>Frequency</label>
							<select name="field_ppFreq" id="field_ppFreq">
								<option value="monthly" selected="selected">Monthly</option>
								<option value="quarterly">Quarterly</option>
								<option value="bi-annually">Bi-Annually</option>
							</select>
						</p>
						<p class="compressedP">
							<label for="field_ppStartM">Start month</label>
							<select name="field_ppStartM" id="field_ppStartM" optional="optional" tabindex="8">
								<option value="x"> - </option>
								<option value="0">Jan</option>
								<option value="1">Feb</option>
								<option value="2">Mar</option>
								<option value="3">Apr</option>
								<option value="4">May</option>
								<option value="5">Jun</option>
								<option value="6">Jul</option>
								<option value="7" selected="selected">Aug</option>
								<option value="8">Sep</option>
								<option value="9">Oct</option>
								<option value="10">Nov</option>
								<option value="11">Dec</option>	
							</select>
							<label for="field_ppStartY">Start year</label>
							<select name="field_ppStartY" id="field_ppStartY" optional="”optional”" size="1" tabindex="9">
								<option value="2013">2013</option>
								<option value="2014">2014</option>
							</select>
						</p>
					</fieldset>
				</form>
			</div>
			<div id="navigation">
				<ul>
					<li class="selected">
						<a href="#">Components</a>
					</li><li>
						<a href="#">Credits</a>
					</li>
					<li>
						<a href="#">Payment Plan</a>
					</li>
					<li>
						<a href="javascript: void(0)" id="submitButton" tabindex="13" onclick="
							var dateStart = new Date(document.params.dateStart.value); 
							var dateEnd = new Date(document.params.dateEnd.value); 
							var lessonDatesArray = createMatchingWeekdays(dateStart, dateEnd, getWeekday()).filter(filterHolidays); 
							printOneRate(getLessonCode(), getLessonLength());
							printLessonQty(lessonDatesArray);
							document.viewAdjustParams.field_lessonSubTotal.value = calcSub_Lessons().toFixed(2);
							calcSub_ProgramEvents();
							printSub_ProgramEvents();
							document.viewAdjustParams.field_MMARegFees.value = calcSub_RegFee().toFixed(2);
							var instances = ppInstances();
							document.quoteOutput.ppOutput.value = instances;
							printQuote();
							writeToTextArea(convertArray(lessonDatesArray)); 
							printSkips(convertArray(jQuery.grep(skipDatesArray, function(d){return (d.getDay() == getWeekday());})));
						"><h3 id="submitButton">Rock Enroll</h3>
						</a>
					</li>
				</ul>
			</div>
		</div>
		
		<div id="output">
			<form name="quoteOutput">
				<div class="outputTabs">
					<div class="tab">
						<input id="tab-1" name="tab-group-1" checked="" type="radio">
						<label for="tab-1">Totals</label>
						<div class="content">
							<textarea class="textArea" name="quotePonents" id="quotePonents" cols="40" rows="15" onclick="this.focus();this.select()" readonly="readonly"></textarea>
						</div> 
					</div>		
					<div class="tab">
						<input id="tab-2" name="tab-group-1" type="radio">
						<label for="tab-2">Payment Plan</label>
						<div class="content">
							<textarea class="textArea" name="ppOutput" id="ppOutput" cols="40" rows="15" onclick="this.focus();this.select()" readonly="readonly"></textarea>
						</div> 
					</div>
    				<div class="tab">
						<input id="tab-3" name="tab-group-1" type="radio">
						<label for="tab-3">Also includes</label>
						<div class="content">
							<textarea class="textArea" name="alsoIncludes" id="alsoIncludes" cols="40" rows="15" onclick="this.focus();this.select()" readonly="readonly"></textarea>
						</div> 
					</div>      
					<div class="tab">
						<input id="tab-4" name="tab-group-1" checked="" type="radio">
						<label for="tab-4">Lesson Dates</label>
						<div class="content">
							<textarea class="textArea" name="outputArea" id="outputArea" cols="30" rows="15" readonly="readonly"></textarea>
						</div>
					</div>
					
					<div class="tab">
						<input id="tab-5" name="tab-group-1" type="radio">
						<label for="tab-5">Academy Holidays</label>
						<div class="content">
							<textarea class="textArea" name="skipsExcluded" id="skipsExcluded" cols="30" rows="15" readonly="readonly"></textarea>
						</div>
					</div>					
				</div>
			</form>   
		</div>
	</div>
    <div id="tree">
        
    </div>
    <div id="whatis">
        
    </div>
    <script type="text/javascript">
        $(document).ready(function() {
            $('.scroll').scrollTo({ speed: 'fast' });
            $( "#dateStart" ).datepicker({
                showButtonPanel: true,
                minDate: new Date(2013, 7, 26),
                maxDate: new Date(2014, 7, 24),
                defaultDate: "+1w",
                changeMonth: true,
				changeYear: true,
                numberOfMonths: 1,
                onClose: function( selectedDate ) {
                    $( "#to" ).datepicker( "option", "minDate", selectedDate );
                }
            });
            $( "#slider" ).slider({
                value: 12,
                min: 1,
                max: 12,
                step: 1,
                slide: function( event, ui ) {
                    $( "#amount" ).val(ui.value );
                }
            });
            $( "#amount" ).val($( "#slider" ).slider( "value" ) + " payments" );
			$("#yourElement").attr('title', 'This is the hover-over text');
        });
        document.params.dateStart.value = today;
	</script>
</body>
</html>    